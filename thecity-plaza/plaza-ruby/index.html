<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <title>Plaza Ruby | The City Developer Community</title>
  <link href="/css/reset.css" rel="stylesheet" type="text/css" />
  <link href="/css/960.css" rel="stylesheet" type="text/css" />
  <link href="/css/uv_active4d.css" rel="stylesheet" type="text/css" />
  <link href="/shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
  <link href="/shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
  <script src="/shared/js/jquery.js" type="text/javascript"></script>
  <script src="/shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">

    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="/"><img src="/images/logo_developer.png" width="255" height="45" /></a>
          <ul class="nav">
            <!--
            <li><a href="/v3/">API v3</a></li>
            <li><a href="http://develop.github.com">API v2</a></li>
            -->
            <li><a href="mailto:joshua@onthecity.org?subject=GitHub: The City Developer">Support</a></li>
          </ul>
        </div>
      </div><!-- #header -->
    </div><!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="the-city-plaza-ruby">The City Plaza Ruby</h1>

<h2 id="the-code">The Code</h2>

<p>You can get the code from the project repo</p>

<pre><code>https://github.com/thecity/thecity-plaza-ruby
</code></pre>

<h2 id="setup">Setup</h2>

<p>To get started add the <strong>lib</strong> folder to your project and include the <strong>the_city.rb</strong> file.</p>

<pre><code>require 'path/to/.../lib/the_city.rb'
</code></pre>

<h2 id="defaults">Defaults</h2>

<ul>
  <li>Data pulled from the Plaza is cached for 1 hour in a folder called <strong>storage</strong>, which is outside the <strong>lib</strong> folder.  </li>
</ul>

<h2 id="initalize">Initalize</h2>

<pre><code># First param is your church's subdomain key.
# Second param is whether or not to cache the data.
the_city = TheCity.new('mychurch', false)

# Set the group nickname to pull plaza items for.
# http://helpdesk.onthecity.org/entries/422776-group-nickname
the_city.set_group_nickname('somegroup')
</code></pre>

<h2 id="load-topics">Load Topics</h2>

<pre><code>array_of_topic_titles = the_city.topics.titles

# by default will grab 10 topics.
topics = the_city.topics 

# limit the amount of topics fetched from The City.
topics = the_city.topics(3)    

# Get topic.
topic = topics.select(2)
</code></pre>

<h2 id="load-events">Load Events</h2>

<pre><code>array_of_event_titles = the_city.events.titles

# by default will grab 10 events.
events = the_city.events

# limit the amount of events fetched from The City  
events = the_city.events(3)

# Get event.
event = events.select(2)
</code></pre>

<h2 id="load-prayers">Load Prayers</h2>

<pre><code>array_of_prayer_titles = the_city.prayers.titles

# by default will grab 10 prayers.
prayers = the_city.prayers

# limit the amount of prayers fetched from The City  
prayers = the_city.prayers(3)

# Get prayer.
prayer = prayers.select(2)
</code></pre>

<h2 id="load-needs">Load Needs</h2>

<pre><code>array_of_need_titles = the_city.prayers.titles

# by default will grab 10 needs.
needs = the_city.needs

# limit the amount of needs fetched from The City   
needs = the_city.needs(3)

# Get need.
need = needs.select(2)
</code></pre>

<h2 id="albums">Albums</h2>

<pre><code>array_of_album_titles = the_city.albums.titles

# by default will grab 10 albums.
albums = the_city.albums

# limit the amount of albums fetched from The City  
albums = the_city.albums(3)

# Get album.
album = albums.select(2)
</code></pre>

      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
          

            <li class="js-topic">
              
              <h3><a href="/general/" class="collapsed">&nbsp;</a><a href="/general/">General</a></h3>
              <ul class="js-guides">
                
              </ul>
            </li>

          

            <li class="js-topic">
              
              <h3><a href="http://developer.onthecity.org/thecity-appkit" class="collapsed">&nbsp;</a><a href="http://developer.onthecity.org/thecity-appkit">AppKit</a></h3>
              <ul class="js-guides">
                
              </ul>
            </li>

          

            <li class="js-topic">
              
              <h3><a href="http://api.onthecity.org" class="collapsed">&nbsp;</a><a href="http://api.onthecity.org">The City API</a></h3>
              <ul class="js-guides">
                
              </ul>
            </li>

          

            <li class="js-topic">
              
              <h3><a href="#" class="js-expand-btn collapsed">&nbsp;</a><a href="/thecity-plugins/plugins/">The City Plugins</a></h3>
              <ul class="js-guides">
                
                  <li><a href="/thecity-plugins/facebook-plaza/">Facebook - Plaza</a></li>
                
                  <li><a href="/thecity-plugins/wordpress-chipin/">Wordpress - Chipin</a></li>
                
                  <li><a href="/thecity-plugins/wordpress-login/">Wordpress - Login</a></li>
                
                  <li><a href="/thecity-plugins/wordpress-plaza/">Wordpress - Plaza</a></li>
                
              </ul>
            </li>

          

            <li class="js-topic">
              
              <h3><a href="#" class="js-expand-btn collapsed">&nbsp;</a><a href="/thecity-plaza/plaza-libraries/">The City Plaza Libraries</a></h3>
              <ul class="js-guides">
                
                  <li><a href="/thecity-plaza/plaza-php/">Plaza PHP</a></li>
                
                  <li><a href="/thecity-plaza/plaza-ruby/">Plaza Ruby</a></li>
                
              </ul>
            </li>

          

            <li class="js-topic">
              
              <h3><a href="/report-a-bug/" class="collapsed">&nbsp;</a><a href="/report-a-bug/">Report a bug</a></h3>
              <ul class="js-guides">
                
              </ul>
            </li>

          
        </ul>
      </div> <!-- /sidebar-module -->
      <div class="sidebar-module" style="display:none;">
        <p>
          <b>The City is Hiring!</b>
          <br>
          Checkout
          <a href="http://www.onthecity.org/about/jobs/" target="_blank">Jobs at The City</a>
          for more information.</p>
      </div>
    </div><!-- /sidebar-shell -->

    </div><!-- #wrapper -->

    <div id="footer" >
      <div class="upper_footer">
        <div class="footer_inner clearfix">

        <!--[if IE]><h4 id="thecity_logo_ie">GitHub Links</h4><![endif]-->
        <![if !IE]><h4 id="thecity_logo">GitHub Links</h4><![endif]>



        <ul class="footer_nav">
          <h4>The City</h4>
          <li><a href="https://onthecity.org">Website</a></li>
          <li><a href="https://builders.onthecity.org">The City Builders</a></li>
          <li><a href="http://www.onthecity.org/about/about-the-city/">About The City</a></li>
          <li><a href="http://www.onthecity.org/contact/">Contact The City</a></li>
          <li><a href="http://www.onthecity.org/about/jobs/">Jobs at The City</a></li>
          <li><a href="http://www.onthecity.org/about/press/">Press</a></li>
        </ul>

        <ul class="footer_nav">
          <h4>Tools we use</h4>
          <li><a href="http://www.sublimetext.com/2">Sublime Text 2</a></li>
          <li><a href="http://http://macromates.com">Textmate</a></li>
          <li><a href="http://www.jetbrains.com/ruby/">Ruby Mine</a></li>
          <li><a href="http://www.malcolmhardie.com/sqleditor/">SQLEditor</a></li>
          <li><a href="http://www.sequelpro.com/">Sequel Pro</a></li>
          <li><a href="http://www.iterm2.com/#/section/home">Iterm 2</a></li>
        </ul>

        <ul class="footer_nav">
          <h4>ACS Technologies</h4>
          <li><a href="http://www.acstechnologies.com/">Website</a></li>
        </ul>




        </div><!-- /.site -->
      </div><!-- /.upper_footer -->

      <div class="lower_footer">
        <div class="footer_inner clearfix">
            <div id="legal">

              <ul id="legal_links">
                <li><a href="http://www.onthecity.org/legal/privacy-policy/">Privacy Policy</a></li>
                <li><a href="http://www.onthecity.org/legal/coppa/">COPPA</a></li>
              </ul>

              <p>&copy; <span id="year">year</span> ACS Technologies. All rights reserved.</p>
            </div><!-- /#legal or /#legal_ie-->

            <div class="parent_company">
              <a href="http://onthecity.org">The City</a>
              is a company of ACS Technologies
              <a href="http://www.acstechnologies.com" class="logo">
                <img src="/images/acs_logo.png" alt="Church software solutions" width="194" height="51">
              </a>
          </div>
        </div><!-- /.site -->
      </div><!-- /.lower_footer -->
    </div><!-- /#footer -->

</body>
</html>
